// Scenarios #106-110
function scenario106_sdkRestartAfterCrash() { setTimeout(() => { window.__walletkitCall('bridgeReady', JSON.stringify({ protocolVersion: 1, recovered: true })); }, 500); }
function scenario107_reconnectAfterNetworkError() { window.__walletkitCall('bridgeReady', JSON.stringify({ protocolVersion: 1 })); setTimeout(() => { window.__walletkitCall('event', JSON.stringify({ id: 1, event: 'networkError' })); setTimeout(() => { window.__walletkitCall('event', JSON.stringify({ id: 2, event: 'reconnected' })); }, 200); }, 100); }
function scenario108_retryExhausted() { window.__walletkitCall('bridgeReady', JSON.stringify({ protocolVersion: 1 })); setTimeout(() => { window.__walletkitCall('response', JSON.stringify({ id: 'retry-1', kind: 'method', result: { error: 'Retry attempts exhausted', attempts: 5 }})); }, 100); }
function scenario109_fallbackRpcFailure() { window.__walletkitCall('bridgeReady', JSON.stringify({ protocolVersion: 1 })); setTimeout(() => { window.__walletkitCall('response', JSON.stringify({ id: 'rpc-1', kind: 'method', result: { error: 'Fallback RPC also failed' }})); }, 100); }
function scenario110_stateCorruptionRecovery() { window.__walletkitCall('bridgeReady', JSON.stringify({ protocolVersion: 1 })); setTimeout(() => { window.__walletkitCall('event', JSON.stringify({ id: 1, event: 'stateCorrupted' })); setTimeout(() => { window.__walletkitCall('event', JSON.stringify({ id: 2, event: 'stateRecovered' })); }, 200); }, 100); }
window.errorRecoveryScenarios = { scenario106_sdkRestartAfterCrash, scenario107_reconnectAfterNetworkError, scenario108_retryExhausted, scenario109_fallbackRpcFailure, scenario110_stateCorruptionRecovery };
