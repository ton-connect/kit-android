<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App Lifecycle Scenarios</title>
</head>
<body>
    <h1>Mock Bridge - App Lifecycle Scenarios</h1>
    <script>
        /**
         * App Lifecycle Scenarios - Mock scenarios for testing
         */

        function sendToAndroid(payload) {
            var message = JSON.stringify(payload);
            console.log('[Mock] Sending to Android:', message);
            if (window.WalletKitNative && window.WalletKitNative.postMessage) {
                window.WalletKitNative.postMessage(message);
            }
        }

        function sendReadyEvent(network, tonApiUrl) {
            sendToAndroid({ kind: 'ready', network: network || 'testnet', tonApiUrl: tonApiUrl || 'https://testnet.tonapi.io' });
        }

        function sendRpcResponse(id, result, error) {
            var payload = { kind: 'response', id: id };
            if (error) { payload.error = error; } else { payload.result = result || {}; }
            sendToAndroid(payload);
        }

        function sendEvent(eventType, eventData) {
            sendToAndroid({
                kind: 'event',
                event: { type: eventType, data: eventData, id: 'event-' + Date.now() + '-' + Math.random() }
            });
        }

        // Send ready event
        setTimeout(function() { sendReadyEvent('testnet'); }, 100);

        // Handle RPC calls
        window.__walletkitCall = function(id, method, params) {
            console.log('[Mock] Call:', method);
            sendRpcResponse(id, { success: true });
        };
    </script>
</body>
</html>
